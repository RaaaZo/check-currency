(this["webpackJsonpcheck-currency"]=this["webpackJsonpcheck-currency"]||[]).push([[0],{201:function(e,t,n){"use strict";n.r(t);var r=n(135),a=Object(r.a)({overrides:{MuiCssBaseline:{"@global":{html:{fontSize:"62.5%"},body:{fontSize:"1.6rem"}}}},typography:{htmlFontSize:10}}),c=n(60),o=n(0),i=n.n(o),s=n(2),l=i.a.createContext({isOpen:!1,isRemoveAll:!1,setIsRemoveAll:function(){},openModal:function(){},closeModal:function(){}}),u=function(e){var t=e.children,n=Object(o.useState)(!1),r=Object(c.a)(n,2),a=r[0],i=r[1],u=Object(o.useState)(!1),d=Object(c.a)(u,2),j=d[0],p=d[1];return Object(s.jsx)(l.Provider,{value:{isRemoveAll:j,isOpen:a,openModal:function(){return i(!0)},closeModal:function(){return i(!1)},setIsRemoveAll:p},children:t})},d=function(){var e=Object(o.useContext)(l);if(!e)throw Error("useModal needs to be used inside ModalContext");return e},j=n(45),p=n(31),b=n(53),m=n.n(b),h=n(75),f=n(76),x=n.n(f),O=n(44),g=Object(O.b)("currencies/fetchCurrencies",Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("https://api.nbp.pl/api/exchangerates","/tables/a?format=json"));case 2:return t=e.sent,e.abrupt("return",t.data[0]);case 4:case"end":return e.stop()}}),e)})))),v=Object(O.c)({name:"currencies",initialState:{currencies:[],effectiveDate:"",status:"idle",error:null},reducers:{},extraReducers:function(e){e.addCase(g.pending,(function(e,t){e.status="loading"})),e.addCase(g.fulfilled,(function(e,t){var n=t.payload;e.status="succeeded",e.currencies=n.rates,e.effectiveDate=n.effectiveDate})),e.addCase(g.rejected,(function(e,t){e.status="failed",e.error="Pobieranie danych nie powiod\u0142o si\u0119, spr\xf3buj ponownie"}))}}).reducer,y=Object(O.b)("currencies/fetchCurrencyByCode",function(){var e=Object(h.a)(m.a.mark((function e(t){var n,r,a,c,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("https://api.nbp.pl/api/exchangerates","/rates/a/").concat(t,"?format=json"));case 2:return n=e.sent,r=n.data,a=r.currency,c=r.code,o=r.rates,e.abrupt("return",{currency:a,code:c,mid:o[0].mid});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w=Object(O.c)({name:"currencies",initialState:{favorites:[],newestCode:"",status:"idle",error:""},reducers:{clearError:function(e){e.error=""},getCurrencyCode:function(e,t){e.newestCode=t.payload},addToFavorites:function(e,t){e.favorites.find((function(e){return e.code===t.payload.code}))||e.favorites.push(t.payload)},removeFromFavorites:function(e){var t=e.favorites.filter((function(t){return t.code!==e.newestCode}));e.favorites=t},removeAllFromFavorites:function(e){e.favorites=[]}},extraReducers:function(e){e.addCase(y.fulfilled,(function(e,t){var n=t.payload;e.favorites.find((function(e){return e.code===n.code}))?(e.status="failed",e.error="Posiadasz ju\u017c t\u0105 walut\u0119 w ulubionych."):(e.status="succeeded",e.favorites.push(n))})),e.addCase(y.rejected,(function(e,t){e.status="failed",e.error="Dodanie do ulubionych nie powiod\u0142o si\u0119, spr\xf3buj ponownie"}))}}),k=w.actions,C=k.addToFavorites,N=k.removeFromFavorites,z=k.removeAllFromFavorites,W=k.getCurrencyCode,F=k.clearError,D=w.reducer,R=Object(O.a)({reducer:{currencies:v,favorites:D}}),T=n(240),B=n(241),S=function(e){var t=e.children;return Object(s.jsx)(p.a,{basename:"/check-currency",children:Object(s.jsx)(j.a,{store:R,children:Object(s.jsxs)(T.a,{theme:a,children:[Object(s.jsx)(B.a,{}),Object(s.jsx)(u,{children:t})]})})})},I=n(10),A=n.n(I),M=n(15),L=n(243),P=n(244),U=Object(L.a)((function(e){return Object(P.a)({wrapper:Object(M.a)({marginTop:130,marginBottom:60},e.breakpoints.up("md"),{marginLeft:240,marginBottom:0})})})),E=function(e){var t=e.children,n=U();return Object(s.jsx)("div",{className:n.wrapper,children:t})},J=n(13),Z=n(245),K=n(246),H=n(80),q=n.n(H),G=n(130),Q=n.n(G),V=Object(L.a)((function(e){return Object(P.a)({wrapper:Object(M.a)({position:"fixed",bottom:"0",left:"0",width:"100%","& span":{fontWeight:e.typography.fontWeightBold}},e.breakpoints.up("md"),{display:"none"}),button:{transition:"color 0.3s ease-in-out","&:hover":{color:e.palette.secondary.main}}})})),X=function(){var e=V(),t=Object(J.f)().push;return Object(s.jsxs)(Z.a,{showLabels:!0,className:e.wrapper,children:[Object(s.jsx)(K.a,{onClick:function(){return t("/")},label:"Popularne",icon:Object(s.jsx)(Q.a,{}),className:e.button}),Object(s.jsx)(K.a,{onClick:function(){return t("/ulubione")},label:"Ulubione",icon:Object(s.jsx)(q.a,{}),className:e.button})]})},Y=n(131),$=n(207),_=i.a.forwardRef((function(e,t){return Object(s.jsx)($.a,Object(Y.a)({direction:"up",ref:t},e))})),ee=n(253),te=n(247),ne=n(252),re=n(250),ae=n(251),ce=n(249),oe=function(e){var t=e.message,n=e.removeFunc,r=d(),a=r.closeModal,c=r.isOpen,o=r.setIsRemoveAll,i=function(){o(!1),a()};return Object(s.jsxs)(te.a,{onClose:i,open:c,TransitionComponent:_,children:[Object(s.jsx)(ce.a,{children:"Jeste\u015b pewien?"}),Object(s.jsx)(re.a,{children:Object(s.jsx)(ae.a,{children:t})}),Object(s.jsxs)(ne.a,{children:[Object(s.jsx)(ee.a,{onClick:i,color:"secondary",children:"Zamknij"}),Object(s.jsx)(ee.a,{onClick:n,children:"Usu\u0144"})]})]})},ie=n(254),se=n(255),le=n(256),ue=n(102),de=Object(L.a)((function(e){return Object(P.a)({drawerWidth:Object(M.a)({display:"none",width:240},e.breakpoints.up("md"),{display:"flex"}),logoWrapper:{margin:"3rem 0",height:100,padding:"2.5rem 1rem ",backgroundColor:e.palette.grey[800]},logoLink:{display:"block",color:e.palette.getContrastText(e.palette.grey[800]),textAlign:"right",textDecoration:"none",transition:"color 0.3s ease-in-out","&:hover":{color:e.palette.secondary.main}},link:{paddingRight:"1rem",margin:"1rem 0",color:e.palette.common.black,fontSize:"2rem",textAlign:"right",transition:"color 0.3s ease-in-out","&:hover":{color:e.palette.secondary.main,textDecoration:"none"},"&.active":{color:e.palette.secondary.main}}})})),je=function(){var e=de();return Object(s.jsxs)(ie.a,{className:e.drawerWidth,classes:{paper:e.drawerWidth},variant:"permanent",children:[Object(s.jsx)(se.a,{className:e.logoWrapper,container:!0,justify:"flex-end",alignItems:"center",children:Object(s.jsx)(se.a,{item:!0,xs:12,children:Object(s.jsx)(ue.a,{className:e.logoLink,component:p.b,to:"/",variant:"h6",align:"right",children:"Check Currency"})})}),Object(s.jsx)(le.a,{exact:!0,className:e.link,component:p.c,to:"/",children:"Popularne Waluty"}),Object(s.jsx)(le.a,{className:e.link,component:p.c,to:"/ulubione",children:"Ulubione Waluty"})]})},pe=function(){return Object(j.b)()},be=j.c,me=n(260),he=n(264),fe=n(258),xe=n(265),Oe=n(132),ge=n.n(Oe),ve=Object(L.a)((function(e){return Object(P.a)({snackbar:{"& > div":{backgroundColor:e.palette.error.main}}})})),ye=function(e){var t=e.message,n=ve(),r=Object(j.b)(),a=function(e,t){"clickaway"!==t&&r(F())};return Object(s.jsx)(xe.a,{className:n.snackbar,message:t,open:!!t,autoHideDuration:6e3,onClose:a,anchorOrigin:{vertical:"top",horizontal:"right"},action:Object(s.jsx)(fe.a,{size:"small","aria-label":"close",color:"inherit",onClick:a,children:Object(s.jsx)(ge.a,{fontSize:"small"})})})},we=Object(L.a)((function(e){return Object(P.a)({button:{minWidth:"10rem"},form:{width:"100%",display:"flex",justifyContent:"center"},innerWrapper:{width:"100%"},textField:Object(M.a)({marginRight:"1rem","& input":{fontWeight:e.typography.fontWeightBold},"& label":{fontWeight:e.typography.fontWeightBold}},e.breakpoints.up("sm"),{width:"40%",maxWidth:"40rem"})})})),ke=function(){var e=we(),t=pe(),n=be((function(e){return e.favorites})),r=n.status,a=n.error,i=Object(o.useState)(""),l=Object(c.a)(i,2),u=l[0],d=l[1],j=u.length;return Object(s.jsxs)(se.a,{className:e.innerWrapper,container:!0,justify:"center",alignItems:"center",children:[a&&Object(s.jsx)(ye,{message:a}),Object(s.jsxs)("form",{className:e.form,onSubmit:function(e){e.preventDefault(),t(y(u)),d("")},children:[Object(s.jsx)(he.a,{className:e.textField,color:"secondary",variant:"filled",label:"Kod Waluty",placeholder:"USD, EUR...",size:"small",value:u,onChange:function(e){var t=e.target.value;d(t.toLowerCase())}}),Object(s.jsx)(ee.a,{className:e.button,disabled:3!==j||"loading"===r,type:"submit",size:"large",variant:"contained",color:"secondary",children:"loading"===r?Object(s.jsx)(me.a,{color:"secondary",size:30}):"Dodaj"})]})]})},Ce=n(261),Ne=Object(L.a)((function(e){return Object(P.a)({appBar:Object(M.a)({height:130,left:0,color:e.palette.common.black,backgroundColor:e.palette.common.white},e.breakpoints.up("md"),{left:240}),contentWrapper:Object(M.a)({height:"100%"},e.breakpoints.up("md"),{paddingRight:240}),typography:{width:"100%"}})})),ze=function(){var e=Ne();return Object(s.jsx)(Ce.a,{className:e.appBar,position:"fixed",children:Object(s.jsxs)(se.a,{className:e.contentWrapper,container:!0,justify:"center",alignItems:"center",children:[Object(s.jsx)(ue.a,{className:e.typography,align:"center",variant:"h6",component:"h2",display:"block",children:"Dodaj Walut\u0119 Do Ulubionych"}),Object(s.jsx)(ke,{})]})})},We=function(e){var t=e.children,n=pe(),r=d(),a=r.closeModal,c=r.isRemoveAll,o=r.setIsRemoveAll;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(je,{}),Object(s.jsx)(ze,{}),Object(s.jsx)(E,{children:t}),Object(s.jsx)(X,{}),c?Object(s.jsx)(oe,{message:"Czy na pewno chcesz usun\u0105\u0107 wszystkie waluty z ulubionych?",removeFunc:function(){o(!1),n(z()),a()}}):Object(s.jsx)(oe,{message:"Czy na pewno chcesz usun\u0105\u0107 walut\u0119 z ulubionych?",removeFunc:function(){n(N()),a()}})]})},Fe=n(262),De=Object(L.a)((function(e){return Object(P.a)({padding:{paddingTop:"2rem",paddingBottom:"1rem"},button:{color:e.palette.grey[500],marginTop:"3rem",transition:"all 0.3s ease-in-out","&:hover":{backgroundColor:e.palette.secondary.main,color:e.palette.common.white}},badge:{cursor:"pointer","& span":{top:18,right:-8}}})})),Re=function(e){var t=e.effectiveDate,n=e.header,r=De(),a=be((function(e){return e.favorites.favorites})),c=d(),o=c.openModal,i=c.setIsRemoveAll;return Object(s.jsxs)(se.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center",direction:"column",children:[Object(s.jsx)(ue.a,{align:"center",variant:"h6",component:"h3",children:n}),t?Object(s.jsxs)(ue.a,{className:r.padding,align:"center",variant:"h6",component:"h3",children:["Na dzie\u0144: ",t]}):Object(s.jsx)(Fe.a,{badgeContent:a.length,className:r.badge,color:"secondary",showZero:!0,onClick:function(){0!==a.length&&(i(!0),o())},children:Object(s.jsx)(ee.a,{className:r.button,children:"Usu\u0144 wszystkie"})})]})},Te=Object(L.a)((function(e){return Object(P.a)({wrapper:Object(M.a)({position:"absolute",top:"calc(50% + 65px)",left:"50%",transform:"translate(-50%,-50%)"},e.breakpoints.up("md"),{left:"calc(50% + 120px)",maxWidth:"calc(100% - 240px)"}),text:Object(M.a)({fontWeight:e.typography.fontWeightBold,fontSize:"1.7rem"},e.breakpoints.up("md"),{fontSize:"2rem"}),link:{paddingTop:"0.5rem",color:e.palette.secondary.main,transition:"transform 0.2s linear","&:hover":{textDecoration:"none",transform:"scale(1.1)"}}})})),Be=function(){var e=Te();return Object(s.jsxs)(se.a,{className:e.wrapper,container:!0,justify:"center",alignItems:"center",direction:"column",children:[Object(s.jsx)(ue.a,{className:e.text,component:"h5",children:"Nie posiadasz \u017cadnych ulubionych walut"}),Object(s.jsx)(le.a,{className:"".concat(e.link," ").concat(e.text),component:p.b,to:"/",children:"Znajd\u017a je tu!"})]})},Se=n(266),Ie=Object(L.a)((function(e){return Object(P.a)({typography:{cursor:"default"}})})),Ae=function(e){var t=e.xs,n=e.sm,r=e.md,a=e.placement,c=e.text,o=e.secondText,i=e.title,l=e.direction,u=e.secondTitle,d=Ie();return Object(s.jsxs)(se.a,{container:!0,item:!0,xs:t,sm:n,md:r,direction:l,justify:"center",children:[Object(s.jsx)(Se.a,{placement:a,arrow:!0,title:i,children:Object(s.jsx)(ue.a,{className:d.typography,variant:"button",component:"h6",children:c})}),u&&Object(s.jsx)(Se.a,{title:u,placement:a,arrow:!0,children:Object(s.jsx)(ue.a,{className:d.typography,variant:"button",component:"h6",children:o})})]})},Me=n(263),Le=n(52),Pe=n.n(Le),Ue=n(134),Ee=n.n(Ue),Je=Object(L.a)((function(e){return Pe()({icon:{transition:"color 0.3s ease-in-out","&:hover":{color:e.palette.secondary.main}},cursor:{cursor:"pointer"}})})),Ze=function(e){var t=e.currency,n=e.code,r=e.mid,a=Je(),c=pe(),o=be((function(e){return e.favorites.favorites})),i=d().openModal,l="".concat(Math.round(100*r)/100," PLN"),u=t.toUpperCase();return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(Me.a,{divider:!0,children:[Object(s.jsx)(Ae,{xs:6,sm:6,md:4,direction:"column",placement:"left-start",title:"Nazwa waluty",secondTitle:"Kod waluty",secondText:n,text:u}),Object(s.jsx)(Ae,{xs:3,sm:3,md:4,placement:"top",title:"\u015arednia warto\u015b\u0107 (PLN)",text:l}),Object(s.jsx)(Ae,{xs:3,sm:3,md:4,placement:"top",title:"Ulubione",text:o.find((function(e){return e.code===n}))?Object(s.jsx)(Ee.a,{className:a.cursor,onClick:function(){c(W(n)),i()},color:"secondary"}):Object(s.jsx)(q.a,{onClick:function(){return c(C({code:n,currency:t,mid:r}))},className:"".concat(a.icon," ").concat(a.cursor)})})]},t)})},Ke=n(259),He=n(83),qe=n.n(He),Ge=qe()((function(e){return Pe()({wrapper:{padding:"3rem 0 0 0"},list:{height:"100%"}})})),Qe=function(){var e=Ge(),t=be((function(e){return e.favorites})).favorites;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(se.a,{className:e.wrapper,container:!0,children:[Object(s.jsx)(Re,{header:"Twoje ulubione kursy walut"}),Object(s.jsx)(se.a,{item:!0,xs:12,children:0===t.length?Object(s.jsx)(Be,{}):Object(s.jsx)(Ke.a,{className:e.list,children:t.map((function(e){var t=e.mid,n=e.code,r=e.currency;return Object(s.jsx)(Ze,{mid:t,code:n,currency:r},r)}))})})]})})},Ve=qe()((function(e){return Pe()({loaderWrapper:{position:"fixed",width:"100%",height:"100%",top:0,left:0,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.grey[300]},loader:Object(M.a)({marginTop:65},e.breakpoints.up("md"),{marginLeft:120})})})),Xe=function(){var e=Ve();return Object(s.jsx)("div",{className:e.loaderWrapper,children:Object(s.jsx)(me.a,{className:e.loader,color:"secondary",size:80})})},Ye=Object(L.a)((function(e){return Object(P.a)({wrapper:Object(M.a)({height:"calc(100vh - 130px - 30px)",paddingLeft:"2rem",paddingRight:"2rem","& h3":{paddingBottom:"2rem"}},e.breakpoints.down("md"),{height:"calc(100vh - 130px - 30px - 60px)"})})})),$e=function(e){var t=e.message,n=Ye();return Object(s.jsxs)(se.a,{className:n.wrapper,container:!0,item:!0,xs:12,direction:"column",justify:"center",alignItems:"center",children:[Object(s.jsx)(ue.a,{variant:"h5",component:"h3",children:"B\u0142\u0105d"}),Object(s.jsx)(ue.a,{variant:"h6",component:"h4",align:"justify",children:t})]})},_e=Object(L.a)((function(e){return Object(P.a)({wrapper:{padding:"3rem 0 0 0"},list:{height:"100%"}})})),et=function(){var e=_e(),t=be((function(e){return e.currencies})),n=t.currencies,r=t.status,a=t.effectiveDate,c=t.error,i=pe();return Object(o.useEffect)((function(){i(g())}),[i]),"loading"===r||"idle"===r?Object(s.jsx)(Xe,{}):Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(se.a,{className:e.wrapper,container:!0,children:c?Object(s.jsx)($e,{message:c}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Re,{effectiveDate:a,header:"Najpopularniejsze kursy walut"}),Object(s.jsx)(se.a,{item:!0,xs:12,children:Object(s.jsx)(Ke.a,{className:e.list,children:n.map((function(e){var t=e.mid,n=e.code,r=e.currency;return Object(s.jsx)(Ze,{mid:t,code:n,currency:r},r)}))})})]})})})},tt=function(){return Object(s.jsx)(We,{children:Object(s.jsxs)(J.c,{children:[Object(s.jsx)(J.a,{exact:!0,path:"/",children:Object(s.jsx)(et,{})}),Object(s.jsx)(J.a,{path:"/ulubione",children:Object(s.jsx)(Qe,{})})]})})},nt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,267)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};A.a.render(Object(s.jsx)(S,{children:Object(s.jsx)(tt,{})}),document.getElementById("root")),nt()}},[[201,1,2]]]);
//# sourceMappingURL=main.aa7563f8.chunk.js.map